<% 
var page_title= "Dashboard";
var page_title_desc = "Manage your system";
var progress1_title = 'Target Progress 1';
var progress2_title = 'Target Progress 2';
%>

<%- contentFor('header') %>
<nav class="navbar py-0 navbar-expand-sm navbar-dark">
  <!-- Brand Logo -->
  <a class="navbar-brand" href="#"> Logo </a>
  <!-- Links -->
  <ul class="navbar-nav">
    <li class="nav-item active">
      <a class="nav-link" href="/admin/home">Dashboard</a>
    </li>
    <li class="nav-item">
      <a class="nav-link" href="/admin/outlet">Outlet</a>
    </li>
    <li class="nav-item">
      <a class="nav-link" href="/admin/inventory">Inventory</a>
    </li>
  </ul>

  <ul class="navbar-nav ml-auto">
      <li class="nav-item">
          <a class="nav-link" href="/admin/notification"><i class="fas fa-bell"></i></a>
        </li>
    <!-- Dropdown -->
    <li class="nav-item dropdown">
        <a class="nav-link dropdown-toggle active" href="#" id="navbardrop" data-toggle="dropdown">
            Welcome, <%= user %>
        </a>
        <div class="dropdown-menu">
          <a class="dropdown-item" href="#">Settings</a>
          <a class="dropdown-item" href="#">Logout</a>
        </div>
      </li>
  </ul>
</nav>

<div id="header">
  <div class="container">
    <div class="row">
      <div class="col-md-10">

        <div id="dashboard-text">
            <h1> <span><i class="fas fa-globe-asia"></i></span> <%= page_title %> <small class="text-secondary"> <%= page_title_desc %> </small></h1>
        </div>       
      </div>
      
      <div class="col-md-2">
          <div class="dropdown create">
              <button class="btn btn-secondary dropdown-toggle" type="button" id="dropdownMenuButton" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                Create Content
              </button>
              <div class="dropdown-menu" aria-labelledby="dropdownMenuButton">
                <a class="dropdown-item" href="/admin/employee/create">Employee</a>
                <a class="dropdown-item" href="/admin/outlet/create">Outlet</a>
              </div>
            </div>          
      </div>
    </div>
  </div>
</div>

<!--Body section-->
<section id="breadcrumb">
    <div class="container">
      <ol class="breadcrumb">
        <li class="active">Dashboard</li>
      </ol>  
    </div>
</section>

<%- contentFor('selection') %>
          <div class="card main" id="panel">
            <div class="card-header main-bg-color">
              Overview
            </div>
            <div class="card-body">
              <div class="row">

                <div class="col-md-4">
                    <div class="card">
                      <div class="card-header panel-box">
                          <span><i class="fas fa-coins"></i></span> Total Transaction
                      </div>
                      <div class="card-body panel-text">
                        <h2> <span id="total-transaction-value" class="badge badge-pill badge-success">20000000</span></h2>
                      </div>
                    </div>
                </div>
                <div class="col-md-4">
                    <div class="card">
                      <div class="card-header panel-box">
                          <span><i class="fas fa-store-alt"></i></span> Total Outlet
                      </div>
                      <div class="card-body panel-text">
                        <h2> <span id="Total-outlet-value" class="badge badge-pill main-bg-color">20</span></h2>
                      </div>
                    </div>
                </div>
                <div class="col-md-4">
                    <div class="card">
                      <div class="card-header panel-box">
                          <span><i class="fas fa-user-check"></i></span> Total Attendence
                      </div>
                      <div class="card-body panel-text">
                        <h2> <span id="total-attendence-value" class="badge badge-pill badge-danger">20</span></h2>
                      </div>
                    </div>
                </div>
                    
              </div>
            </div>
          </div>

          <div class="card graph" id="panel">
              <div class="card-header main-bg-color">
                Weekly Graph
              </div>
              <div class="card-body">
                <div class="row">
  
                  <div class="col-md-6">
                      <div class="card">
                        <div class="card-header panel-box">
                            <h4>Outlet's Transaction</h3>
                        </div>
                        <div class="card-body panel-text">
                          <canvas id="outlet-transaction-chart"></canvas>
                        </div>
                      </div>
                  </div>
                  <div class="col-md-6">
                      <div class="card">
                        <div class="card-header panel-box">
                            <h4>Total Transaction</h3>
                        </div>
                        <div class="card-body panel-text">
                          <canvas id="transaction-chart"></canvas>
                        </div>
                      </div>
                  </div>
                  
                      
                </div>
              </div>
            </div>
            <!--here-->
   
<!--Body Section End-->


<script>

var outlet_transaction_chart = document.getElementById("outlet-transaction-chart").getContext('2d');

var popChart1 = new Chart(outlet_transaction_chart, {
  type: 'bar', 
  data:{
    labels:['Outlet 1', 'Outlet 2', 'outlet 3'],
    datasets:[{
      label: 'Today\'s transaction',
      data:[
        50000,
        90000,
        20000,
      ],
      backgroundColor: [
        'rgba(54, 162, 235, 0.6)',  
        'rgba(255, 99, 132, 0.6)',
        'rgba(75, 192, 192, 0.6)'
      ]
     
    }]
  },
  options: {
        legend: {
          display: true
        },
        scales: {
            yAxes: [{
                ticks: {
                    beginAtZero: true
                }
            }]
        }
    },
    
});


  var transaction_chart = document.getElementById("transaction-chart").getContext('2d');

  var popChart2 = new Chart(transaction_chart, {
    type: 'line', 
    data:{
      labels:['Day 1', 'Day 2', 'Day 3', 'Day 4', 'Day 5', 'Day 6', 'Day 7'],
      datasets:[{
        label: 'Last 7 Day Transaction',
        data:[
          50000,
          70000,
          60000,
          75000,
          70000,
          60000,
          80000
        ],
        backgroundColor: 'rgba(75, 192, 192, 0.6)'
       
      }]
    },
    option:{}
  });
</script>